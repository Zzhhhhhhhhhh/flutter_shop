webpackJsonp([6],{"9y6K":function(t,e,o){"use strict";var i=o("mvHQ"),s=o.n(i),n=o("Gu7T"),a=o.n(n),l=o("x6zy"),r=o.n(l),c=(o("RTJ8"),o("5E6t"),o("ifXN"),o("iPNc")),u={name:"",props:["trackingMode"],components:{},data:function(){return{divShow:!0,handDrive:!1,switchValue:!1,enable:!1,scheduleTrack:!1,autorun:!1,aboutSensitivity:"",upDownSensitivity:"",focusSpeed:"",aboutDistance:"",upDownDistance:"",closeUp:"",PositionRunSpeed:"",PositionZoomSpeed:"",directorAddr:"",directorPort:null,teacherAddr:"",speedList:[{label:"慢",value:1},{label:"中",value:0},{label:"快",value:2}],ptzBtnList:[{class:"el-icon-top"},{class:"el-icon-bottom"},{class:"el-icon-back"},{class:"el-icon-right"}],setbtnList:[{name:"设置",val:1},{name:"调用",val:2}],controlObj:{Type:"",Command:"",Value:0,Speed:1},showType:"",radioAuto:"0",radioSpeed:"0",traceType:0,teaTrackingMode:!1,stuVideo:2,CameraType:"",cloudPosition:{Enable:!1,Left:0,Right:0},cloudPositionTea:{Enable:!1,Up:0,Down:0},cloudPositionTeaLR:{Enable:!1,Left:0,Right:0},direction:0,showPosstionTea:!1,showPosstionStu:!1,showPosstionTeaLR:!1,dialogVisible:!1,wheelTour:{Enable:0,X1Pos:0,X2Pos:0,X3Pos:0,X4Pos:0,Y1Pos:0,Y2Pos:0,Y3Pos:0,Y4Pos:0,Z1Pos:0,Z2Pos:0,Z3Pos:0,Z4Pos:0,XMoveCount:"",YMoveCount:"",PTZLoopWaitCount:"",PTZLoopCount:"",PTZSleepTime:""},naturalWidth:0,naturalHeight:0,points:[],blindZoneInfo:{Enable:1},subIp:""}},created:function(){this.getInit()},mounted:function(){this.resizeCanvas();var t=document.getElementById("c");this.naturalWidth=t.getBoundingClientRect().width,this.naturalHeight=t.getBoundingClientRect().height},computed:{rtcType:function(){return sessionStorage.getItem("rtcType")}},methods:{resizeCanvas:function(){var t=this.$refs.container,e=this.$refs.canvas;if(t&&e){var o=window.devicePixelRatio||1;e.width=t.clientWidth*o,e.height=t.clientHeight*o,e.style.width="100%",e.style.height="100%"}},wasmPlay:function(t,e){var o={index:0,ele:"WASMPlayer0",wsUrl:"ch0_3"==t?"ws://"+e+":9998/Play?StreamName="+t:"ws://"+window.location.hostname+":9998/Play?StreamName="+t,ffmpeg_context:null,socket:null,webglplayer:null,initialized:!1};(new window.VideoPlayer).initializeStreams([o])},createPolygon:function(){var t=this,e=new fabric.Canvas("c"),o=this.points.map(function(t){return new fabric.Polygon(t,{fill:"transparent",stroke:t.length>2?"red":"green",strokeWidth:2,objectCaching:!1,selectable:!1,evented:!1,opacity:.5})}),i=[];this.points.forEach(function(t,e){t.forEach(function(o,s){i.push(new fabric.Circle({left:o.x,top:o.y,parentIndex:e,childrenIndex:s,strokeWidth:2,radius:6,fill:"#fff",stroke:t.length>2?"red":"green",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,cid:"circle-"+e}))})}),e.add.apply(e,a()(o).concat(i)),e.on("object:moving",function(o){var i=o.target;if("cid"in i&&i.cid.match(RegExp(/circle-/))){var s=i.parentIndex,n=i.childrenIndex;t.points[s][n].x=i.left,t.points[s][n].y=i.top,e.renderAll()}}),e.on("object:moving",function(t){var o=t.target;"cid"in o&&o.cid.match(RegExp(/circle-/))&&(o.left<0&&(o.left=0),o.top<0&&(o.top=0),o.left>e.width&&(o.left=e.width),o.top>e.height&&(o.top=e.height))})},getInit:function(){var t=this;this.$https.get("/Camera_GetInit.do").then(function(e){if(e){"Q41"!=e.DeviceName&&(0==e.CloudAIRegister[0].CameraType?(t.showPosstionTea=!0,t.showPosstionStu=!1):(t.showPosstionTea=!1,t.showPosstionStu=!0)),t.showType=e.DeviceName,t.CameraType=e.CloudAIRegister[0].CameraType,0==t.trackingMode?("Q41"==t.showType?0==t.rtcType?t.wasmPlay("ch0_3",e.NetWork[1].IP):t.flvCont(3):"AT2023"==t.showType?0==t.rtcType?t.wasmPlay("ch0_1"):t.flvCont(1):"HD600i"==t.showType?0==t.rtcType?t.wasmPlay("ch0_0"):t.flvCont(0):0==t.rtcType?t.wasmPlay("ch0_1"):t.flvCont(1),1==e.CloudAIRegister[0].CameraType&&e.DeviceName.includes("HD8")&&(t.divShow=!1)):0==t.rtcType?t.wasmPlay("ch0_2"):t.flvCont(2),t.traceType=e.TeaTrackType;0==e.CloudAIRegister[0].CameraType?e.TeacherTrack[0]:e.StudentTrack[0];var o="AT2023"==e.DeviceName?"0"==t.trackingMode?e.TeacherTrack[0]:e.StudentTrack[0]:(e.DeviceName.includes("900"),0==e.CloudAIRegister[0].CameraType?e.TeacherTrack[0]:e.StudentTrack[0]),i=o.Enable,s=(o.RunState,o.ScheduleTrack),n=o.AutoRun,a=o.LeftRightSensitivity,l=o.UpDownSensitivity,r=o.ZoomSpeed,c=o.LeftRightFramePos,u=o.UpDownFramePos,p=o.ZoomPos,d=o.PositionRunSpeed,h=o.PositionZoomSpeed;t.enable=t.enable=1==i,t.scheduleTrack=1==s?t.scheduleTrack=!0:t.autorun=!1,t.autorun=t.autorun=1==n,t.aboutSensitivity=a,t.upDownSensitivity=l,t.focusSpeed=r,t.aboutDistance=c,t.upDownDistance=u,t.closeUp=p,t.PositionRunSpeed=d,t.PositionZoomSpeed=h,0==e.CloudAIRegister[0].CameraType?t.teaTrackingMode=!0:t.teaTrackingMode=!1,1==e.StudentTrackLimit[0].Enable?t.cloudPosition.Enable=!0:t.cloudPosition.Enable=!1,t.cloudPosition.Left=e.StudentTrackLimit[0].Left,t.cloudPosition.Right=e.StudentTrackLimit[0].Right,1==e.TeacherTrackLimit[0].Enable?t.cloudPositionTea.Enable=!0:t.cloudPositionTea.Enable=!1,t.cloudPositionTea.Up=e.TeacherTrackLimit[0].Up,t.cloudPositionTea.Down=e.TeacherTrackLimit[0].Down,1==e.TeacherTrackLimitLR[0].Enable?t.cloudPositionTeaLR.Enable=!0:t.cloudPositionTeaLR.Enable=!1,t.cloudPositionTeaLR.Left=e.TeacherTrackLimitLR[0].Left,t.cloudPositionTeaLR.Right=e.TeacherTrackLimitLR[0].Right;var v=e.PtzLoopInfo[0],m=v.Enable,f=v.X1Pos,T=v.X2Pos,_=v.X3Pos,y=v.X4Pos,P=v.Y1Pos,g=v.Y2Pos,w=v.Y3Pos,b=v.Y4Pos,S=v.Z1Pos,C=v.Z2Pos,x=v.Z3Pos,k=v.Z4Pos,L=v.XMoveCount,R=v.YMoveCount,D=v.PTZLoopWaitCount,Z=v.PTZLoopCount,z=v.PTZSleepTime;if(t.wheelTour.Enable=m,t.wheelTour.X1Pos=f,t.wheelTour.X2Pos=T,t.wheelTour.X3Pos=_,t.wheelTour.X4Pos=y,t.wheelTour.Y1Pos=P,t.wheelTour.Y2Pos=g,t.wheelTour.Y3Pos=w,t.wheelTour.Y4Pos=b,t.wheelTour.Z1Pos=S,t.wheelTour.Z2Pos=C,t.wheelTour.Z3Pos=x,t.wheelTour.Z4Pos=k,t.wheelTour.XMoveCount=L,t.wheelTour.YMoveCount=R,t.wheelTour.PTZLoopWaitCount=D,t.wheelTour.PTZLoopCount=Z,t.wheelTour.PTZSleepTime=z,"AT2023"==e.DeviceName||e.DeviceName.includes("919"))if(1==t.trackingMode||1==t.CameraType){t.showPosstionStu=!0,t.showPosstionTea=!1,t.showPosstionTeaLR=!1;var $=e.StudentTrackShielded[0],E=($.Enable,$.LeftUpX),I=$.LeftUpY,X=$.RightUpX,Y=$.RightUpY,M=$.LeftDownX,j=$.LeftDownY,A=$.RightDownX,B=$.RightDownY,O=[{x:E,y:I},{x:0==X?960:X,y:Y},{x:0==A?960:A,y:0==B?540:B},{x:M,y:0==j?540:j}];O=O.map(function(t){return{x:parseInt(600*t.x/960),y:parseInt(380*t.y/540)}}),t.points=[O],t.createPolygon()}else t.showPosstionTea=!0,t.showPosstionTeaLR=!0,t.showPosstionStu=!1,console.log("else")}})},setTrackType:function(t){var e=this,o={Enable:t,TrackType:this.CameraType};"AT2023"==this.showType?o.TrackType=this.trackingMode:o.TrackType=this.CameraType,this.$https.get("/Camera_TrackWork.do",o).then(function(o){1==o&&(1==t?e.$message.success("开始跟踪！"):e.$message.success("停止跟踪！"))})},setTrackInfo:function(){var t=this,e="",o="",i="";if(e=this.enable?1:0,o=this.autorun?1:0,i=this.scheduleTrack?1:0,!Object(c.c)(this.aboutSensitivity,1,100))return this.$message.error("请输入正确的左右灵敏度数值！"),!1;if(!Object(c.c)(this.upDownSensitivity,1,100))return this.$message.error("请输入正确的上下灵敏度数值！"),!1;if(!Object(c.c)(this.focusSpeed,1,100))return this.$message.error("请输入正确的推焦速度数值！"),!1;if(!Object(c.c)(this.aboutDistance,1,9))return this.$message.error("请输入正确的人像左右距离数值！"),!1;if(!Object(c.c)(this.upDownDistance,1,9))return this.$message.error("请输入正确的人像上下距离数值！"),!1;if(!Object(c.c)(this.closeUp,1,6))return this.$message.error("请输入正确的推焦特写数值！"),!1;if(this.showType.includes("900")&&"1"!=this.CameraType){if(!Object(c.c)(this.PositionRunSpeed,1,64))return this.$message.error("请输入正确的回位转动速度数值！"),!1;if(!Object(c.c)(this.PositionZoomSpeed,1,7))return this.$message.error("请输入正确的回位推速度焦数值！"),!1}var s={TrackType:this.CameraType,Enable:e,ScheduleTrack:i,AutoRun:o,LeftRightSensitivity:this.aboutSensitivity,UpDownSensitivity:this.upDownSensitivity,ZoomSpeed:this.focusSpeed,LeftRightFramePos:this.aboutDistance,UpDownFramePos:this.upDownDistance,ZoomPos:this.closeUp,PositionRunSpeed:this.PositionRunSpeed,PositionZoomSpeed:this.PositionZoomSpeed};"AT2023"==this.showType?s.TrackType=this.trackingMode:s.TrackType=this.CameraType,this.showType.includes("900")&&"1"==this.CameraType&&(delete s.PositionRunSpeed,delete s.PositionZoomSpeed),this.$https.get("/Camera_SetTrackInfo.do",s).then(function(e){1==e&&t.$message.success("设置成功！")})},speedFn:function(t){this.controlObj.Speed=t},leaveParent:function(){console.log("leaveParent")},ptzBtnFunc:function(t){this.controlObj.Type=this.trackingMode,this.controlObj.Command=t,0!=t&&(this.direction=t),this.$https.get("/Camera_SendPtzCommand.do",this.controlObj).then(function(t){})},setPanoramaPTZ:function(){var t=this;this.controlObj.Value=5,this.ptzBtnFunc(7);var e=JSON.parse(s()(this.points));e.forEach(function(e){e.forEach(function(e){e.x>600?e.x=600/t.naturalWidth*960:e.x<0?e.x=0:e.x=parseInt(e.x/t.naturalWidth*960),e.y>380?e.y=380/t.naturalHeight*540:e.y<0?e.y=0:e.y=parseInt(e.y/t.naturalHeight*540)})}),this.blindZoneInfo.LeftUpX=e[0][0].x,this.blindZoneInfo.LeftUpY=e[0][0].y,this.blindZoneInfo.RightUpX=e[0][1].x,this.blindZoneInfo.RightUpY=e[0][1].y,this.blindZoneInfo.RightDownX=e[0][2].x,this.blindZoneInfo.RightDownY=e[0][2].y,this.blindZoneInfo.LeftDownX=e[0][3].x,this.blindZoneInfo.LeftDownY=e[0][3].y,this.setStudentShield()},setFeaturePTZ:function(t){1==t?(this.controlObj.Value=6,this.ptzBtnFunc(7)):(this.controlObj.Value=7,this.ptzBtnFunc(7))},manualCalibration:function(t){var e={Mode:this.radioAuto,Dir:t,Speed:this.radioSpeed};this.$https.get("/Camera_SetCameraFocus.do",e).then(function(t){})},autoCalibration:function(t){var e=this,o={CorrectMode:t};this.$https.get("/Camera_SetCorrectionState.do",o).then(function(t){1==t&&e.$message.success("设置成功！")})},radioChange:function(t){this.flvCont(t)},cleanupPeerConnection:function(t){t.pc1&&(t.pc1.ontrack=null,(t.stream?t.stream.getTracks():[]).forEach(function(t){return t.stop()}),t.pc1.close(),t.pc1=null,t.stream=null)},flvCont:function(t){var e=this;e.cleanupPeerConnection(e);var o=window.location.hostname,i=window.location.protocol+"//"+o+":9999/Play?StreamName=ch0_"+t;e.pc1&&e.pc1.close(),e.pc1=new RTCPeerConnection(null),e.pc1.ontrack=function(t){"video"===t.track.kind&&(e.stream||(e.stream=new MediaStream),e.stream.addTrack(t.track),r()("#VSPlayer1").prop("srcObject",e.stream))};e.pc1.createOffer({offerToReceiveAudio:0,offerToReceiveVideo:1}).then(function(t){return e.pc1.setLocalDescription(t)}).then(function(){e.localsdp=e.pc1.localDescription.sdp;var t=s()({sdp:e.localsdp});return r.a.ajax({type:"POST",url:i,data:t,contentType:"application/json",dataType:"json",timeout:5e3})}).then(function(t){return e.pc1.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:t.sdp}))}).catch(function(t){console.error("Error during WebRTC setup:",t)})},reorderSdp:function(t,e){if(!t)return e;var o=t.substring(t.indexOf("m="),t.lastIndexOf("m="));if(e){var i=e.substring(e.indexOf("m="),e.lastIndexOf("m="));return o.indexOf("m=video")==i.indexOf("m=video")?e:e.substring(0,e.indexOf("m="))+e.substring(e.lastIndexOf("m="),e.length)+i}this.flvCont1()},getCloudPosition:function(t,e){var o=this;this.$https.get("/Camera_GetPtzPosition.do",{hber:Math.random(),Type:e}).then(function(e){0!=e.PosX||o.showType.includes("HD900")?1==t?(o.cloudPosition.Left=e.PosX,o.setCloudLeftRightPosition()):2==t?(o.cloudPosition.Right=e.PosX,o.setCloudLeftRightPosition()):3==t?(o.cloudPositionTea.Up=e.PosY,o.setCloudTopBottomPosition()):4==t?(o.cloudPositionTea.Down=e.PosY,o.setCloudTopBottomPosition()):5==t?(o.cloudPositionTeaLR.Left=e.PosX,o.setTeaCloudLeftRightPosition(),console.log("老师左")):6==t?(console.log("老师右"),o.cloudPositionTeaLR.Right=e.PosX,o.setTeaCloudLeftRightPosition()):51==t?(o.wheelTour.X1Pos=e.PosX,o.wheelTour.Y1Pos=e.PosY,o.wheelTour.Z1Pos=e.PosZ):52==t?(o.wheelTour.X2Pos=e.PosX,o.wheelTour.Y2Pos=e.PosY,o.wheelTour.Z2Pos=e.PosZ):53==t?(o.wheelTour.X3Pos=e.PosX,o.wheelTour.Y3Pos=e.PosY,o.wheelTour.Z3Pos=e.PosZ):54==t&&(o.wheelTour.X4Pos=e.PosX,o.wheelTour.Y4Pos=e.PosY,o.wheelTour.Z4Pos=e.PosZ):o.$message.error("位置信息获取失败!")})},changeSwitch:function(t){"LR"==t?this.setCloudLeftRightPosition():"TB"==t&&this.setCloudTopBottomPosition()},changeSwitch2:function(){console.log("切换"),this.setTeaCloudLeftRightPosition()},setCloudLeftRightPosition:function(){var t=this,e=e=this.cloudPosition.Enable?1:0,o={Enable:e,Left:this.cloudPosition.Left,Right:this.cloudPosition.Right};this.$https.get("/Camera_SetStudentTrackLimit.do",o).then(function(e){1==e&&t.$message.success("设置成功！")})},setCloudTopBottomPosition:function(){var t=this,e=e=this.cloudPositionTea.Enable?1:0,o={Enable:e,Up:this.cloudPositionTea.Up,Down:this.cloudPositionTea.Down};this.$https.get("/Camera_SetTeacherTrackLimit.do",o).then(function(e){1==e&&t.$message.success("设置成功！")})},setTeaCloudLeftRightPosition:function(){var t=this,e=e=this.cloudPositionTeaLR.Enable?1:0,o={Enable:e,Left:this.cloudPositionTeaLR.Left,Right:this.cloudPositionTeaLR.Right};this.$https.get("/Camera_SetTeacherTrackLimitLR.do",o).then(function(e){1==e&&t.$message.success("设置成功！")})},setTourInfo:function(){var t=this;return this.wheelTour.XMoveCount<2||this.wheelTour.XMoveCount>100?(this.$message.error("请输入正确的X步长！"),!1):this.wheelTour.YMoveCount<2||this.wheelTour.YMoveCount>100?(this.$message.error("请输入正确的Y步长！"),!1):void this.$https.get("/Camera_SetPtzLoopInfo.do",this.wheelTour).then(function(e){1==e?t.$message.success("设置成功！"):t.$message.error("设置失败！")})},startWheelTour:function(){var t=this;this.$https.get("/Camera_StartPtzLoop.do").then(function(e){1==e?t.$message.success("开始轮巡!"):t.$message.error("开始轮巡失败！")})},stopWheelTour:function(){var t=this;this.$https.get("/Camera_StopPtzLoop.do").then(function(e){1==e?t.$message.success("停止轮巡！"):t.$message.error("停止轮巡失败！")})},setStudentShield:function(){var t=this;this.$https.get("/Camera_SetStudentTrackShielded.do",this.blindZoneInfo).then(function(e){1==e?t.$message.success("设置成功！"):t.$message.error("设置失败！")})}},watch:{}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"track"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.divShow,expression:"divShow"}],staticClass:"module"},[t._m(0),t._v(" "),o("div",[o("div",{staticStyle:{margin:"10px 0 0 0"}},[o("span",{staticStyle:{display:"inline-block",width:"110px","text-align":"right"}},[t._v("是否启用跟踪：")]),t._v(" "),o("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},model:{value:t.enable,callback:function(e){t.enable=e},expression:"enable"}})],1),t._v(" "),o("div",{staticClass:"fist_div",staticStyle:{margin:"15px 0"}},[o("div",{staticStyle:{"margin-top":"6px"}},[o("span",[t._v("自动运行：")]),t._v(" "),o("el-checkbox",{model:{value:t.autorun,callback:function(e){t.autorun=e},expression:"autorun"}})],1),t._v(" "),o("div",{staticStyle:{"margin-top":"6px"}},[o("span",[t._v("跟随课表：")]),t._v(" "),o("el-checkbox",{model:{value:t.scheduleTrack,callback:function(e){t.scheduleTrack=e},expression:"scheduleTrack"}})],1),t._v(" "),o("div",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.setTrackType(1)}}},[t._v("开始跟踪")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.setTrackType(0)}}},[t._v("停止跟踪")])],1)]),t._v(" "),"Q41"!==t.showType?o("div",{staticClass:"cen_div"},[o("span",[t._v("左右灵敏度：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.aboutSensitivity,callback:function(e){t.aboutSensitivity=e},expression:"aboutSensitivity"}}),t._v(" "),o("i",[t._v("(1-100)")]),t._v(" "),o("span",[t._v("上下灵敏度：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.upDownSensitivity,callback:function(e){t.upDownSensitivity=e},expression:"upDownSensitivity"}}),t._v(" "),o("i",[t._v("(1-100)")]),t._v(" "),o("span",[t._v("推焦速度：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.focusSpeed,callback:function(e){t.focusSpeed=e},expression:"focusSpeed"}}),t._v(" "),o("i",[t._v("(1-100)")])],1):t._e(),t._v(" "),"Q41"!==t.showType?o("div",{staticClass:"last_div"},[o("span",[t._v("人像左右距离：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",type:"text",placeholder:"请输入内容",maxlength:"1"},model:{value:t.aboutDistance,callback:function(e){t.aboutDistance=e},expression:"aboutDistance"}}),t._v(" "),o("i",[t._v("(1-9)")]),t._v(" "),o("span",[t._v("人像上下距离：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",type:"text",placeholder:"请输入内容",maxlength:"1"},model:{value:t.upDownDistance,callback:function(e){t.upDownDistance=e},expression:"upDownDistance"}}),t._v(" "),o("i",[t._v("(1-9)")]),t._v(" "),o("span",[t._v("推焦特写位置：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",type:"text",placeholder:"请输入内容",maxlength:"1"},model:{value:t.closeUp,callback:function(e){t.closeUp=e},expression:"closeUp"}}),t._v(" "),o("i",[t._v("(1-6)")])],1):t._e(),t._v(" "),t.showType.includes("900")&&"1"!=t.CameraType?o("div",{staticClass:"last_div"},[o("span",[t._v("回位转动速度：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",type:"text",placeholder:"请输入内容",maxlength:"3"},model:{value:t.PositionRunSpeed,callback:function(e){t.PositionRunSpeed=e},expression:"PositionRunSpeed"}}),t._v(" "),o("i",{staticStyle:{"margin-left":"4px"}},[t._v("(1-64)")]),t._v(" "),o("span",[t._v("回位推焦速度：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",type:"text",placeholder:"请输入内容",maxlength:"1"},model:{value:t.PositionZoomSpeed,callback:function(e){t.PositionZoomSpeed=e},expression:"PositionZoomSpeed"}}),t._v(" "),o("i",[t._v("(1-7)")])],1):t._e(),t._v(" "),o("div",{staticClass:"btnBox"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.setTrackInfo}},[t._v("保存配置\n          ")])],1)])]),t._v(" "),o("div",{staticClass:"module",style:{paddingBottom:"HD820DS"==t.showType?"60px":"15px"}},[t._m(1),t._v(" "),o("div",{staticClass:"preview"},[o("div",{ref:"container",staticClass:"video_box fl"},[1==t.rtcType?o("video",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"},attrs:{id:"VSPlayer1",muted:"true",autoplay:"autoplay"},domProps:{muted:!0}}):o("div",{staticStyle:{position:"absolute",top:"0"}},[o("canvas",{ref:"canvas",attrs:{id:"WASMPlayer0",width:"100%",height:"100%"}})]),t._v(" "),t._m(2),t._v(" "),t.showType.includes("HD9")||t.showType.includes("HD820DS")?o("div",{staticStyle:{display:"flex",position:"absolute",bottom:"-42px"}},[o("span",{staticStyle:{"margin-top":"6px"}},[t._v("轮巡设置：")]),t._v(" "),o("div",[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(51,1)}}},[t._v("左前")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(52,1)}}},[t._v("右前")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(53,1)}}},[t._v("左后")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(54,1)}}},[t._v("右后")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("设置轮巡信息")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.startWheelTour()}}},[t._v("开始")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.stopWheelTour()}}},[t._v("停止")])],1)]):t._e()]),t._v(" "),o("canvas",{staticStyle:{display:"none"}}),t._v(" "),o("div",{staticClass:"video_set fl"},[o("div",{staticStyle:{"margin-bottom":"10px"},style:{marginTop:"AT2023"==t.showType?"30px":"Q41"==t.showType?"80px":"0"}},[o("span",[t._v("云台控制：")])]),t._v(" "),"Q5"!=t.showType?o("div",{staticClass:"ptzControl"},[o("div",{staticClass:"speed"},t._l(t.speedList,function(e,i){return o("el-button",{key:i,staticClass:"speedClass",staticStyle:{"margin-left":"0px"},attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.speedFn(e.value)}}},[t._v(t._s(e.label))])}),1),t._v(" "),o("div",{staticClass:"direction"},t._l(t.ptzBtnList,function(e,i){return o("span",{key:i,class:e.class,on:{mousedown:function(e){return t.ptzBtnFunc(i+1)},mouseup:function(e){return t.ptzBtnFunc(0)},mouseout:function(e){return t.ptzBtnFunc(0)}}})}),0),t._v(" "),o("div",{staticClass:"zoomInBox"},[o("span",{staticClass:"el-icon-minus",on:{mousedown:function(e){return t.ptzBtnFunc(6)},mouseup:function(e){return t.ptzBtnFunc(0)},mouseout:function(e){return t.ptzBtnFunc(0)}}}),t._v(" "),o("span",{staticClass:"el-icon-plus",on:{mousedown:function(e){return t.ptzBtnFunc(5)},mouseup:function(e){return t.ptzBtnFunc(0)},mouseout:function(e){return t.ptzBtnFunc(0)}}})])]):t._e(),t._v(" "),o("div",{staticClass:"panoramic"},[o("span",[t._v("跟踪预置位：")]),t._v(" "),o("div",[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.setPanoramaPTZ()}}},[t._v("全景预置位")]),t._v(" "),"Q41"==t.showType?o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.setFeaturePTZ(1)}}},[t._v("特写预置位1")]):t._e(),t._v(" "),"Q41"==t.showType?o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.setFeaturePTZ(2)}}},[t._v("特写预置位2")]):t._e()],1)]),t._v(" "),"AT2023"!=t.showType&&"Q41"!=t.showType?o("div",{staticClass:"manual"},[o("span",[t._v("镜头对焦：")]),t._v(" "),o("div",{staticClass:"wdas"},[o("div",[o("el-radio",{staticStyle:{margin:"0"},attrs:{label:"0"},model:{value:t.radioAuto,callback:function(e){t.radioAuto=e},expression:"radioAuto"}},[t._v("自动")]),t._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:t.radioAuto,callback:function(e){t.radioAuto=e},expression:"radioAuto"}},[t._v("手动")])],1),t._v(" "),o("div",[o("el-radio",{staticStyle:{margin:"0"},attrs:{label:"0"},model:{value:t.radioSpeed,callback:function(e){t.radioSpeed=e},expression:"radioSpeed"}},[t._v("快速")]),t._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:t.radioSpeed,callback:function(e){t.radioSpeed=e},expression:"radioSpeed"}},[t._v("慢速")])],1),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.manualCalibration("1")}}},[t._v("向前")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.manualCalibration("0")}}},[t._v("向后")])],1)]):t._e(),t._v(" "),"AT2023"!=t.showType&&"Q41"!=t.showType?o("div",{staticClass:"auto"},[t._m(3),t._v(" "),o("div",{staticClass:"dasd"},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.autoCalibration("0")}}},[t._v("预留校正")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.autoCalibration("1")}}},[t._v("菜单校正")])],1)]):t._e(),t._v(" "),t.showPosstionStu?o("div",{staticClass:"cloud"},[t._m(4),t._v(" "),o("div",{staticClass:"dagg"},[o("el-switch",{attrs:{"active-text":"启用"},on:{change:function(e){return t.changeSwitch("LR")}},model:{value:t.cloudPosition.Enable,callback:function(e){t.$set(t.cloudPosition,"Enable",e)},expression:"cloudPosition.Enable"}}),t._v(" "),o("div",{staticStyle:{margin:"0 20px"}},[t._v("Left: "+t._s(t.cloudPosition.Left))]),t._v(" "),o("div",[t._v("Right: "+t._s(t.cloudPosition.Right))])],1),t._v(" "),o("div",{staticClass:"dajj"},[o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(1,1)}}},[t._v("左限位")]),t._v(" "),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(2,1)}}},[t._v("右限位")])],1)]):t._e(),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showPosstionTea,expression:"showPosstionTea"}],staticClass:"cloud"},[o("p",{staticStyle:{"text-align":"left"}},[o("span",[t._v(t._s("AT2023"==t.showType?"上下限位：":"云台限位："))])]),t._v(" "),o("div",{staticClass:"dagg"},[o("el-switch",{attrs:{"active-text":"启用"},on:{change:function(e){return t.changeSwitch("TB")}},model:{value:t.cloudPositionTea.Enable,callback:function(e){t.$set(t.cloudPositionTea,"Enable",e)},expression:"cloudPositionTea.Enable"}}),t._v(" "),o("div",{staticStyle:{margin:"0 20px"}},[t._v("Top: "+t._s(t.cloudPositionTea.Up))]),t._v(" "),o("div",[t._v("Bottom: "+t._s(t.cloudPositionTea.Down))])],1),t._v(" "),o("div",{staticClass:"dajj"},[o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(3,0)}}},[t._v("上限位")]),t._v(" "),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(4,0)}}},[t._v("下限位")])],1)]),t._v(" "),t.showPosstionTeaLR?o("div",{staticClass:"cloud"},[t._m(5),t._v(" "),o("div",{staticClass:"dagg"},[o("el-switch",{attrs:{"active-text":"启用"},on:{change:function(e){return t.changeSwitch2()}},model:{value:t.cloudPositionTeaLR.Enable,callback:function(e){t.$set(t.cloudPositionTeaLR,"Enable",e)},expression:"cloudPositionTeaLR.Enable"}}),t._v(" "),o("div",{staticStyle:{margin:"0 20px"}},[t._v("\n                Left: "+t._s(t.cloudPositionTeaLR.Left)+"\n              ")]),t._v(" "),o("div",[t._v("Right: "+t._s(t.cloudPositionTeaLR.Right))])],1),t._v(" "),o("div",{staticClass:"dajj"},[o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(5,0)}}},[t._v("左限位")]),t._v(" "),o("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getCloudPosition(6,0)}}},[t._v("右限位")])],1)]):t._e()])])]),t._v(" "),o("el-dialog",{attrs:{title:"轮巡信息配置",visible:t.dialogVisible,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("div",{staticClass:"tourDialog"},[o("div",[o("span",[t._v("是否启用：")]),t._v(" "),o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.wheelTour.Enable,callback:function(e){t.$set(t.wheelTour,"Enable",e)},expression:"wheelTour.Enable"}})],1),t._v(" "),o("div",{staticClass:"tourItem"},[o("span",[t._v("轮巡次数：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.wheelTour.PTZLoopCount,callback:function(e){t.$set(t.wheelTour,"PTZLoopCount",e)},expression:"wheelTour.PTZLoopCount"}})],1),t._v(" "),o("div",{staticClass:"tourItem"},[o("span",[t._v("停留时间：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.wheelTour.PTZSleepTime,callback:function(e){t.$set(t.wheelTour,"PTZSleepTime",e)},expression:"wheelTour.PTZSleepTime"}}),t._v(" "),o("i",{staticStyle:{"margin-left":"15px"}},[t._v("秒")])],1),t._v(" "),o("div",{staticClass:"tourItem"},[o("span",[t._v("步长X：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.wheelTour.XMoveCount,callback:function(e){t.$set(t.wheelTour,"XMoveCount",e)},expression:"wheelTour.XMoveCount"}}),t._v(" "),o("i",{staticStyle:{"margin-left":"15px"}},[t._v("(2-100)")])],1),t._v(" "),o("div",{staticClass:"tourItem"},[o("span",[t._v("步长Y：")]),t._v(" "),o("el-input",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入",maxlength:"3"},model:{value:t.wheelTour.YMoveCount,callback:function(e){t.$set(t.wheelTour,"YMoveCount",e)},expression:"wheelTour.YMoveCount"}}),t._v(" "),o("i",{staticStyle:{"margin-left":"15px"}},[t._v("(2-100)")])],1),t._v(" "),o("div",{staticClass:"tourItem"},[o("span",[t._v("学情上报   ")]),t._v(" "),o("el-input",{staticStyle:{width:"50px"},attrs:{size:"small",maxlength:"3"},model:{value:t.wheelTour.PTZLoopWaitCount,callback:function(e){t.$set(t.wheelTour,"PTZLoopWaitCount",e)},expression:"wheelTour.PTZLoopWaitCount"}}),t._v(" "),o("i",{staticStyle:{"margin-left":"15px"}},[t._v("次，开始轮巡。")])],1),t._v(" "),o("div",{staticClass:"tourItem"},[o("i",{staticStyle:{color:"red"}},[t._v("注*")]),t._v("：没有学情一直轮巡。\n        ")])]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.setTourInfo()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("span"),this._v("跟踪配置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("span"),this._v("画面预览")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"canvas_container"},[e("canvas",{attrs:{id:"c",width:"600",height:"380"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"text-align":"left"}},[e("span",[this._v("镜头校正：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"text-align":"left"}},[e("span",[this._v("云台限位：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"text-align":"left"}},[e("span",[this._v("左右限位：")])])}]};var d=o("VU/8")(u,p,!1,function(t){o("Mi1o")},"data-v-1531d0c8",null);e.a=d.exports},Mi1o:function(t,e){},Q7Ma:function(t,e){},uqVY:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{CameraTracking:o("9y6K").a}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("CameraTracking",{attrs:{trackingMode:"1"}})],1)},staticRenderFns:[]};var n=o("VU/8")(i,s,!1,function(t){o("Q7Ma")},"data-v-79958fda",null);e.default=n.exports}});