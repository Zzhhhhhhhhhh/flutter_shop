webpackJsonp([15],{"5wJE":function(e,t){},SDtJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),l=a("exGp"),n=a.n(l),c=a("EVY1"),r={data:function(){return{enable_AI:0,selectTime:{checkbox:!1,startTime:"08:00",endTime:"22:00"},activeName:"1",selectAudio:{rcaAudio:50,outAudio:50},rtspData:{userName:"",password:""},switchData:{directorAddr:"",teacherAddr:"",studentAddr:"",time:""},cameraType:"",checkedVlaue:!1,comPortOptions:[],selectValue:"",BaudOptions:[{value:"2400",label:"2400"},{value:"4800",label:"4800"},{value:"9600",label:"9600"},{value:"38400",label:"38400"},{value:"57600",label:"57600"},{value:"115200",label:"115200"}],baudValue:"",inputTimeOut:0,cameraShotList:[],cameraValue:0,isDisabled:!1,curVolume:0}},created:function(){this.getInit(),"AT2023"==this.showType?this.isDisabled=!0:this.isDisabled=!1},computed:{showType:function(){return sessionStorage.getItem("showType")}},methods:{formatTooltip:function(e){return e<=50?(this.curVolume=2*e,2*e+"%"):(this.curVolume=100+8*(e-50),100+8*(e-50)+"%")},getInit:function(){var e=this,t=new c.a;this.$https.get("/Camera_GetInit.do").then(function(a){if("HD900"!=a.DeviceName&&"HD810"!=a.DeviceName||0==a.CloudAIRegister[0].CameraType&&(e.isDisabled=!0),"Q41"==a.DeviceName&&(e.radio=2),e.cameraType=a.CloudAIRegister[0].CameraType,e.cameraValue=a.AnalyzeShot,0==a.TimingAnalysis[0].Enable?e.selectTime.checkbox=!1:e.selectTime.checkbox=!0,a.TimingAnalysis[0].StartTime>=10?e.selectTime.startTime=a.TimingAnalysis[0].StartTime+":00":e.selectTime.startTime="0"+a.TimingAnalysis[0].StartTime+":00",a.TimingAnalysis[0].EndTime>=10?e.selectTime.endTime=a.TimingAnalysis[0].EndTime+":00":e.selectTime.endTime="0"+a.TimingAnalysis[0].EndTime+":00",a.AudioInValue<=100?e.selectAudio.rcaAudio=a.AudioInValue/2:e.selectAudio.rcaAudio=(a.AudioInValue-100)/8+50,a.AudioOutValue<=100?e.selectAudio.outAudio=a.AudioOutValue/2:e.selectAudio.outAudio=(a.AudioOutValue-100)/8+50,e.rtspData.userName=a.RtspServer[0].UserName,e.rtspData.password=t.decode(a.RtspServer[0].PassWord),a.VideoIn.forEach(function(t,a){var s={Name:t.Name,ID:t.ID};t.Name.includes("4K-0")?s.Name="特写镜头":t.Name.includes("4K-1")&&(s.Name="全景镜头"),t.Name.includes("sensor0")?s.Name="特写镜头":t.Name.includes("sensor1")&&(s.Name="全景镜头"),e.cameraShotList.push(s)}),a.DeviceName.includes("HD810")&&(e.cameraShotList=[{ID:0,Name:"特写镜头 1080"},{ID:2,Name:"全景镜头 1080"}]),a.DeviceName.includes("HD919")&&(0==e.cameraType?e.cameraShotList=[{ID:2,Name:"全景镜头 4k"}]:e.cameraShotList=[{ID:0,Name:"特写镜头 4k"},{ID:2,Name:"全景镜头 4k"}]),e.switchData.directorAddr=a.AutoRule[0].TerminalAddr,e.switchData.teacherAddr=a.AutoRule[0].TeacherAddr,e.switchData.studentAddr=a.AutoRule[0].StudentAddr,e.switchData.time=parseInt(a.AutoRule[0].SleepTime/1e3),a.Tty.length>0){var s=a.Tty[0],i=s.ID,l=s.Name,n=s.Work,c=s.Baud,r=s.TimeOut,o={value:i,label:l};e.checkedVlaue=1==n,e.comPortOptions.push(o),e.selectValue=i,e.baudValue=c,e.inputTimeOut=r}e.enable_AI=a.AiEnable})},changeAI:function(e){var t=this;this.$https.get("/Camera_SetAiEnable.do",{AiEnable:e}).then(function(e){1==e?t.$message.success("设置成功"):t.$message.error("设置失败")})},analysisTimeFn:function(){var e=this,t={Enable:this.selectTime.checkbox?1:0,StartTime:this.selectTime.startTime,EndTime:this.selectTime.endTime};this.$https.get("/Camera_SetTimingAnalysis.do",t).then(function(t){t&&e.$message.success("命令发送成功！")})},audioFn:function(){var e=this,t=this.formatTooltip(this.selectAudio.rcaAudio).replace("%",""),a=this.formatTooltip(this.selectAudio.outAudio).replace("%",""),s="";s=1==this.activeName?"/Camera_SetAudioInValue.do?AudioInValue="+t:"/Camera_SetAudioOutValue.do?AudioOutValue="+a,this.$https.get(s).then(function(t){1==t?e.$message.success("设置成功！"):e.$message.success("设置失败！")})},tooltipText:function(){return 5*this.selectAudio.outAudio+"%"},rtspFn:function(){var e,t=this,a=new c.a,s={UserName:this.rtspData.userName,PassWord:a.encode(this.rtspData.password)};this.$https.get("/Camera_SetRtspServerInfo.do",s).then((e=n()(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a){e.next=15;break}return t.$message.success("设置成功！"),e.prev=2,e.next=5,t.$confirm("你确定要重启该设备吗?",{type:"warning"});case 5:if("confirm"==e.sent){e.next=8;break}return e.abrupt("return");case 8:t.reStart(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:e.next=16;break;case 15:t.$message.success("设置失败！");case 16:case"end":return e.stop()}},e,t,[[2,11]])})),function(t){return e.apply(this,arguments)}))},checkIP:function(e){return null!=e.match(/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/)},validPort:function(e){return!isNaN(e)&&!(e<0||e>65535)},switchSetBtn:function(){var e=this;if(0==this.cameraType){if("Q41"!=this.showType){if(!this.checkIP(this.switchData.directorAddr))return this.$message.warning("IP格式不合法！"),!1;if(!this.checkIP(this.switchData.studentAddr))return this.$message.warning("IP格式不合法！"),!1}}else if(1==this.cameraType&&!this.checkIP(this.switchData.teacherAddr))return this.$message.warning("IP格式不合法！"),!1;if(this.switchData.time<0||this.switchData.time>60)return this.$message.warning("时间不能小于0秒或大于60秒！"),!1;var t={},a=this.switchData,s=a.directorAddr,i=a.teacherAddr,l=a.studentAddr,n=a.time;t.TerminalAddr=s,t.TeacherAddr=i,t.StudentAddr=l,t.SleepTime=1e3*n,this.$https.get("/Camera_SetAutoRuleInfo.do",t).then(function(t){1==t?e.$message.success("设置成功！"):e.$message.error("设置失败！")})},cameraSetBtn:function(){var e,t=this,a={AnalyzeShot:this.cameraValue};this.$https.get("/Camera_SetAnalyzeShot.do",a).then((e=n()(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a){e.next=15;break}return t.$message.success("设置成功！"),e.prev=2,e.next=5,t.$confirm("是否重启?",{type:"warning"});case 5:if("confirm"==e.sent){e.next=8;break}return e.abrupt("return");case 8:t.restart(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:e.next=16;break;case 15:t.$message.error("设置失败！");case 16:case"end":return e.stop()}},e,t,[[2,11]])})),function(t){return e.apply(this,arguments)}))},restart:function(){this.$router.push({path:"waitting",query:{type:1}})},comPortSetBtn:function(){var e=this;if(parseInt(this.inputTimeOut<0))return this.$message.warning("超时时间不能小于0！"),!1;var t=0;t=this.checkedVlaue?1:0;var a={ID:this.selectValue,Work:t,Baud:this.baudValue,TimeOut:parseInt(this.inputTimeOut)};this.$https.get("/Camera_SetTtyInfo.do",a).then(function(t){1==t?e.$message.success("设置成功！"):e.$message.error("设置失败！")})},reStart:function(){var e=this;this.$https.get("/Camera_Restart.do").then(function(t){0==t?e.$message.success("设备重启成功!"):e.$message.error("设备重启失败!")})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showType.includes("HD820")||"HD600i"==e.showType?a("div",{staticClass:"module"},[e._m(0),e._v(" "),a("div",{staticClass:"modeuleRow"},[a("span",{staticClass:"fl"},[e._v("启用AI：")]),e._v(" "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(t){return e.changeAI(e.enable_AI)}},model:{value:e.enable_AI,callback:function(t){e.enable_AI=t},expression:"enable_AI"}})],1)]):e._e(),e._v(" "),"V1700"!=e.showType&&"Q34"!=e.showType?a("div",{staticClass:"module"},[e._m(1),e._v(" "),a("div",{staticClass:"btnBox"},[a("div",{staticClass:"modeuleRow"},[a("span",{staticClass:"moduleSpan fl"},[e._v("分析时间选择：")]),e._v(" "),a("div",{staticClass:"fl",staticStyle:{"margin-top":"5px"}},[a("el-time-select",{staticStyle:{"margin-left":"20px"},attrs:{"value-format":"HH:mm","picker-options":{start:"06:00",step:"01:00",end:"23:00"},size:"small",placeholder:"分析开始时间"},model:{value:e.selectTime.startTime,callback:function(t){e.$set(e.selectTime,"startTime",t)},expression:"selectTime.startTime"}}),e._v(" "),a("el-time-select",{staticStyle:{"margin-left":"20px"},attrs:{"value-format":"HH:mm","picker-options":{start:"06:00",step:"01:00",end:"23:00"},size:"small",placeholder:"分析结束时间"},model:{value:e.selectTime.endTime,callback:function(t){e.$set(e.selectTime,"endTime",t)},expression:"selectTime.endTime"}}),e._v(" "),a("el-checkbox",{staticStyle:{"margin-left":"20px"},model:{value:e.selectTime.checkbox,callback:function(t){e.$set(e.selectTime,"checkbox",t)},expression:"selectTime.checkbox"}},[e._v("是否启用")])],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"btnBox_con"},[a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.analysisTimeFn()}}},[e._v("提交")])],1)])])]):e._e(),e._v(" "),e.showType.includes("HD900")?a("div",{staticClass:"module"},[e._m(2),e._v(" "),a("div",{staticClass:"comPortSet"},[a("div",[a("span",[e._v("分析镜头选择：")]),e._v(" "),a("el-select",{attrs:{disabled:e.isDisabled,size:"small",placeholder:"请选择"},model:{value:e.cameraValue,callback:function(t){e.cameraValue=t},expression:"cameraValue"}},e._l(e.cameraShotList,function(e){return a("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1),e._v(" "),a("div",{staticClass:"btnBox_con",staticStyle:{padding:"-1 10px 20px",margin:"auto"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"primary",disabled:e.isDisabled},on:{click:function(t){return e.cameraSetBtn()}}},[e._v("提交")])],1),e._v(" "),a("div",{staticStyle:{color:"red",clear:"left","text-align":"center",margin:"20px 0"}},[e._v("\n        提示：重启生效\n      ")])])]):e._e(),e._v(" "),"AT2023"!=e.showType&&"HD900DT"!=e.showType&&"HD900DS"!=e.showType&&"HD900DS"!=e.showType&&"HD810"!=e.showType&&"HD820"!=e.showType&&"HD820DS"!=e.showType&&"HD600i"!=e.showType&&"Q34"!=e.showType?a("div",{staticClass:"module"},[e._m(3),e._v(" "),a("div",{staticClass:"btnBox"},[a("div",{staticClass:"modeuleRow",staticStyle:{display:"flex"}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"音频输入",name:"1"}},[a("div",{staticStyle:{width:"550px",display:"flex"}},[a("span",{staticClass:"moduleSpan fl",staticStyle:{"margin-left":"39px","margin-top":"10px"}},[e._v("输入调节：")]),e._v(" "),a("el-slider",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{"format-tooltip":e.formatTooltip},model:{value:e.selectAudio.rcaAudio,callback:function(t){e.$set(e.selectAudio,"rcaAudio",t)},expression:"selectAudio.rcaAudio"}})],1)]),e._v(" "),"HD810"!=e.showType&&"HD820"!=e.showType&&"HD600i"!=e.showType&&"HD820DS"!=e.showType?a("el-tab-pane",{attrs:{label:"音频输出",name:"2"}},[a("div",{staticStyle:{width:"550px",display:"flex"}},[a("span",{staticClass:"moduleSpan fl",staticStyle:{"margin-left":"39px","margin-top":"10px"}},[e._v("输出调节：")]),e._v(" "),a("el-slider",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{"format-tooltip":e.formatTooltip},model:{value:e.selectAudio.outAudio,callback:function(t){e.$set(e.selectAudio,"outAudio",t)},expression:"selectAudio.outAudio"}})],1)]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"btnBox_con",staticStyle:{padding:"20px"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.audioFn()}}},[e._v("提交")])],1)])]):e._e(),e._v(" "),"HD900DT"!=e.showType&&"HD900DS"!=e.showType&&"AT2023"!=e.showType&&"Q34"!=e.showType?a("div",{staticClass:"module"},[e._m(4),e._v(" "),a("div",{staticClass:"btnBox",staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[a("div",{staticClass:"modeuleRow",staticStyle:{display:"flex","line-height":"8px",margin:"10px"}},[a("span",{staticClass:"moduleSpan fl",staticStyle:{"margin-left":"14px","margin-right":"18px"}},[e._v("用户名：")]),e._v(" "),a("el-input",{staticStyle:{width:"260px"},attrs:{size:"small"},model:{value:e.rtspData.userName,callback:function(t){e.$set(e.rtspData,"userName","string"==typeof t?t.trim():t)},expression:"rtspData.userName"}})],1),e._v(" "),a("div",{staticClass:"modeuleRow",staticStyle:{display:"flex","line-height":"8px",margin:"10px"}},[a("span",{staticClass:"moduleSpan fl",staticStyle:{"margin-left":"14px","margin-right":"20px"}},[e._v("   密码：")]),e._v(" "),a("el-input",{staticStyle:{width:"260px"},attrs:{"show-password":"",size:"small"},model:{value:e.rtspData.password,callback:function(t){e.$set(e.rtspData,"password","string"==typeof t?t.trim():t)},expression:"rtspData.password"}})],1),e._v(" "),a("div",{staticClass:"btnBox_con",staticStyle:{padding:"20px"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.rtspFn()}}},[e._v("提交")])],1)])]):e._e(),e._v(" "),"V1700"!=e.showType&&"Q41"!=e.showType||"Q41"==e.showType&&1!=e.cameraType?a("div",{staticClass:"module"},[e._m(5),e._v(" "),a("div",{staticClass:"switchSet"},[a("div",[a("span",[e._v("导播机IP地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",disabled:1==e.cameraType,placeholder:"请输入"},model:{value:e.switchData.directorAddr,callback:function(t){e.$set(e.switchData,"directorAddr","string"==typeof t?t.trim():t)},expression:"switchData.directorAddr"}})],1),e._v(" "),1==e.cameraType?a("div",[a("span",[e._v("教师机IP地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入"},model:{value:e.switchData.teacherAddr,callback:function(t){e.$set(e.switchData,"teacherAddr","string"==typeof t?t.trim():t)},expression:"switchData.teacherAddr"}})],1):e._e(),e._v(" "),0==e.cameraType&&"Q41"!=e.showType?a("div",[a("span",[e._v("学生机IP地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入"},model:{value:e.switchData.studentAddr,callback:function(t){e.$set(e.switchData,"studentAddr","string"==typeof t?t.trim():t)},expression:"switchData.studentAddr"}})],1):e._e(),e._v(" "),a("div",[a("span",[e._v("间隔时间：")]),e._v(" "),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入"},model:{value:e.switchData.time,callback:function(t){e.$set(e.switchData,"time",e._n(t))},expression:"switchData.time"}}),e._v(" "),a("i",[e._v("秒   ( 0 - 60 )")])],1),e._v(" "),a("div",{staticClass:"btnBox_con",staticStyle:{padding:"0 10px 20px"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.switchSetBtn()}}},[e._v("提交")])],1)])]):e._e(),e._v(" "),"AT2023"!=e.showType&&"Q41"!=e.showType&&"HD900DT"!=e.showType&&"HD900DS"!=e.showType&&"V1700"!=e.showType&&"HD600i"!=e.showType?a("div",{staticClass:"module"},[e._m(6),e._v(" "),a("div",{staticClass:"comPortSet"},[a("div",[a("span",[e._v("状态：")]),e._v(" "),a("el-checkbox",{model:{value:e.checkedVlaue,callback:function(t){e.checkedVlaue=t},expression:"checkedVlaue"}})],1),e._v(" "),a("div",[a("span",[e._v("名字：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.comPortOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",[a("span",[e._v("波特率：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.baudValue,callback:function(t){e.baudValue=t},expression:"baudValue"}},e._l(e.BaudOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",[a("span",[e._v("接收超时：")]),e._v(" "),a("el-input",{staticStyle:{width:"215px"},attrs:{size:"small",placeholder:"超时时间"},model:{value:e.inputTimeOut,callback:function(t){e.inputTimeOut=t},expression:"inputTimeOut"}}),e._v(" "),a("i",[e._v("   ms")])],1),e._v(" "),a("div",{staticClass:"btnBox_con",staticStyle:{padding:"0 10px 20px"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.comPortSetBtn()}}},[e._v("提交")])],1)])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("AI分析")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("分析时间段")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("分析镜头")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("音频配置")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("RTSP设置")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("导切设置")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",[t("span"),this._v("串口设置")])}]};var u=a("VU/8")(r,o,!1,function(e){a("5wJE")},"data-v-f18192be",null);t.default=u.exports}});