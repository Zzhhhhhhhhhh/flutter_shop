webpackJsonp([2],{"4FwV":function(e,t){},MpTN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"index",props:{dialogVisible:{type:Boolean,default:!1},dialogTitle:{type:String,default:""}},data:function(){return{}},created:function(){},mounted:function(){},methods:{cancelBtn:function(){this.$emit("update:dialogVisible",!1)},submitBtn:function(){this.$emit("submitBtn")}},components:{}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"updatePsd"},[s("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"30%","before-close":e.cancelBtn,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._t("content"),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.cancelBtn}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.submitBtn}},[e._v("确 定")])],1)],2)],1)},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(e){s("xlN+")},"data-v-15b692d3",null).exports,o=s("EVY1"),r={name:"Head",data:function(){var e=this;return{level:[],isShow:!1,codeIsShow:!1,qrcode:"",isQ4:!1,mode:localStorage.getItem("mode"),dialogVisible:!1,dialogTitle:"",updatePsdForm:{UserName:"",oldpsd:"",newpsd:""},updatePsdRules:{UserName:[{required:!0,message:"请输入用户名",trigger:"blur"}],oldpsd:[{required:!0,message:"请输入原始密码",trigger:"blur"}],newpsd:[{required:!0,validator:this.checkPassword,trigger:"change"}],checkPass:[{validator:function(t,s,i){""===s?i(new Error("请再次输入密码")):s!==e.updatePsdForm.newpsd?i(new Error("两次输入密码不一致!")):i()},required:!0,trigger:"blur"}]},workIndex:0,timer:null,showType:""}},computed:{welcomeMessage:function(){switch(this.showType){case"Q41":return"您好，欢迎使用4K智能摄像机Q41";case"HD919":case"HD919DT/S":case"HD919RS":case"HD900DT":case"HD900DS":case"Q4S":case"Q4T":return"您好，欢迎使用4K智能摄像机";case"V1700":return"您好，欢迎使用V1700";case"HD810":case"HD820":case"HD820DS":case"HD600i":case"Q34":return"您好，欢迎使用智能摄像机";case"AI5100":return"您好，欢迎使用学情分析主机";case"AT2023":return"您好，欢迎使用图像定位主机";default:return"您好，欢迎使用。"}}},mounted:function(){var e=this;this.getInit(),this.timer=setInterval(function(){e.getStatus()},6e4)},methods:{getStatus:function(){var e=this;this.$https.get("/Camera_Activation.do").then(function(t){try{t.includes("404")&&(e.$router.push("/"),clearInterval(e.timer))}catch(e){console.log(e)}})},checkPassword:function(e,t,s){if(this.level=[],!t)return s("密码不能为空");if(t.length<6)return s("密码不少于6位");if(t.length>16)return s("密码不大于16位");return/^\d+$/.test(t)?this.level.push("low"):/^[A-Za-z]+$/.test(t)?this.level.push("low"):/^[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、]+$/.test(t)?this.level.push("low"):/^[A-Za-z\d]+$/.test(t)?(this.level.push("low"),this.level.push("middle")):/^[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、\d]+$/.test(t)?(this.level.push("low"),this.level.push("middle")):/^[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、A-Za-z]+$/.test(t)?(this.level.push("low"),this.level.push("middle")):/^[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、A-Za-z\d]+$/.test(t)&&(this.level.push("low"),this.level.push("middle"),this.level.push("high")),s()},getInit:function(){var e=this;this.$https.get("/Camera_GetInit.do").then(function(t){e.workIndex=t.WorkMode,e.showType=t.DeviceName})},getCookie:function(e){for(var t=e+"=",s=document.cookie.split(";"),i=0;i<s.length;i++){for(var a=s[i];" "===a.charAt(0);)a=a.substring(1);if(-1!==a.indexOf(t))return a.substring(t.length,a.length)}return""},handleCommand:function(e){"update"==e?(this.dialogVisible=!0,this.dialogTitle="修改密码"):"editlogin"==e&&(window.localStorage.clear(),window.sessionStorage.clear(),this.$router.push("/"))},submitBtn:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(t){var s=new o.a,i={UserName:e.updatePsdForm.UserName,OldPassWord:s.encode(e.updatePsdForm.oldpsd),NewPassWord:s.encode(e.updatePsdForm.newpsd)};e.$https.get("/Camera_EditPassWord.do",i).then(function(t){1==t?(e.$message.success("密码修改成功!"),window.localStorage.removeItem("usertype"),e.$router.push({path:"/"})):e.$message.error("密码修改失败!")}).catch(function(t){e.$message.error("密码修改失败!")})}})}},components:{updatePsd:n},beforeDestroy:function(){clearInterval(this.timer)}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"headBg"},[i("div",{staticClass:"headWrap"},[i("img",{attrs:{src:s("ZBJ4"),alt:""}}),e._v(" "),i("span",[e._v(e._s(e.welcomeMessage))]),e._v(" "),i("div",{staticClass:"fr userInfo"},[1==e.workIndex?i("el-popover",{attrs:{placement:"top",title:"",width:"200",trigger:"hover"}},[i("div",{staticClass:"qrcodeBox"},[i("img",{attrs:{src:"/upload/QrCode.jpg",alt:""}})]),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("二维码")])],1):e._e(),e._v(" "),i("img",{attrs:{src:s("bglC"),alt:""}}),e._v(" "),i("el-dropdown",{on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[e._v("\n          用户管理"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"update"}},[e._v("修改密码")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"editlogin"}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),i("update-psd",{attrs:{dialogVisible:e.dialogVisible,dialogTitle:e.dialogTitle},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t},submitBtn:e.submitBtn}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.updatePsdForm,rules:e.updatePsdRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"用户名",prop:"UserName"}},[i("el-input",{model:{value:e.updatePsdForm.UserName,callback:function(t){e.$set(e.updatePsdForm,"UserName",t)},expression:"updatePsdForm.UserName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"原始密码",prop:"oldpsd"}},[i("el-input",{attrs:{"show-password":""},model:{value:e.updatePsdForm.oldpsd,callback:function(t){e.$set(e.updatePsdForm,"oldpsd",t)},expression:"updatePsdForm.oldpsd"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"新密码",prop:"newpsd"}},[i("el-input",{attrs:{"show-password":""},model:{value:e.updatePsdForm.newpsd,callback:function(t){e.$set(e.updatePsdForm,"newpsd",t)},expression:"updatePsdForm.newpsd"}})],1),e._v(" "),i("div",{staticClass:"intensity"},[i("span",{staticClass:"psdText"},[e._v("密码强度：")]),e._v(" "),i("span",{staticClass:"line",class:[e.level.includes("low")?"low":""]}),e._v(" "),i("span",{staticClass:"line",class:[e.level.includes("middle")?"middle":""]}),e._v(" "),i("span",{staticClass:"line",class:[e.level.includes("high")?"high":""]})]),e._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[i("el-input",{attrs:{"show-password":""},model:{value:e.updatePsdForm.checkPass,callback:function(t){e.$set(e.updatePsdForm,"checkPass",t)},expression:"updatePsdForm.checkPass"}})],1)],1)],1)])],1)},staticRenderFns:[]};var d={name:"MenuSlider",data:function(){return{defaultMenuList:[{name:"图像预览",path:"imagePreview",device:["Q41","V1700"]},{name:"考勤分析",path:"attendanceAnalysis",device:["Q41","HD919","HD919DT/S","HD919RS","HD900DS","HD900DT","HD810","HD820","HD820DS","HD600i","AT2023","Q4T","Q4S"]},{name:"学情分析",path:"analysisOfLearningStuation",device:["Q41","HD919","HD919DT/S","HD919RS","HD900DS","HD900DT","HD810","HD820","HD820DS","HD600i","AT2023","Q4T","Q4S"]},{name:"行为分析",path:"behaviorAnalysis",device:["Q41","HD919","HD919DT/S","HD919RS","HD900DS","HD900DT","AT2023","Q4T","Q4S"]},{name:"表情分析",path:"expressionAnalysis",device:[]},{name:"设置",path:"setUp",device:["all"]}],showMenuList:[]}},created:function(){this.showMenuList=this.getMenu(sessionStorage.getItem("showType"))},mounted:function(){},methods:{getMenu:function(e){return this.defaultMenuList.filter(function(t){return t.device.includes("all")||t.device.includes(e)})},handleSelect:function(e,t){"setUp"!=e?(this.hidden=!1,localStorage.setItem("hidden",!1),this.$refs.setUp[0].$el.style="border-bottom-color:#fff;"):(this.hidden=!0,localStorage.setItem("hidden",!0),this.$refs.setUp[0].$el.style="border-bottom-color:#409EFF;")}},computed:{onRoutes:function(){var e=this.$route.path.replace("/","");return"V1700"==sessionStorage.getItem("showType")&&"imagePreview"!=e?"setUp":"attendanceAnalysis"!=e&&"analysisOfLearningStuation"!=e&&"behaviorAnalysis"!=e&&"imagePreview"!=e&&"expressionAnalysis"!=e?"setUp":this.$route.path.replace("/","")}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.onRoutes,mode:"horizontal",router:""},on:{select:e.handleSelect}},e._l(e.showMenuList,function(t){return s("el-menu-item",{key:t.path,ref:t.path,refInFor:!0,attrs:{index:t.path}},[e._v("\n      "+e._s(t.name)+"\n    ")])}),1),e._v(" "),s("div",{staticClass:"line"})],1)},staticRenderFns:[]};var u={name:"Home",data:function(){return{host:"",platStage:0,controlStage:0,authorizeStage:0,allographLength:0,mode:!0,diskTotal:0,diskFree:0,recordState:0,timer:null}},computed:{showType:function(){return sessionStorage.getItem("showType")},deviceVersion:function(){return sessionStorage.getItem("hd810Version")},softwareVersion:function(){return"AT2023"===this.showType?"图像定位系统V4.0":this.showType.includes("900")?this.deviceVersion:"V1700"===this.showType?"编码器V1700":"HD810"===this.showType||"HD820"===this.showType||"HD820DS"===this.showType||"HD600i"===this.showType||"Q34"===this.showType||"AI5100"===this.showType?this.deviceVersion:"4K智能摄像机"},totalG:function(){return(this.diskTotal/1024).toFixed(1)},freeG:function(){return(this.diskFree/1024).toFixed(1)},usedG:function(){return((this.diskTotal-this.diskFree)/1024).toFixed(1)},usagePercent:function(){return this.diskTotal<=0?0:(this.diskTotal-this.diskFree)/this.diskTotal*100},statusText:function(){return{0:"停止录制",1:"录制中",2:"暂停录制"}[this.recordState]}},beforeDestroy:function(){clearInterval(this.timer)},created:function(){var e=this;"V1700"==this.showType&&(this.getDeviceStatus(),this.timer=setInterval(function(){e.getDeviceStatus()},5e3))},mounted:function(){localStorage.getItem("mode")},methods:{getDeviceStatus:function(){var e=this;this.$https.get("/Camera_GetDeviceState.do").then(function(t){e.diskTotal=t.DiskTotal,e.diskFree=t.DiskFree,e.recordState=t.RecordState})}},onload:function(){},components:{vHead:s("VU/8")(r,l,!1,function(e){s("4FwV")},"data-v-1fe748b2",null).exports,vMenuSlider:s("VU/8")(d,c,!1,function(e){s("z4De")},"data-v-83ed6a36",null).exports}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-head",{ref:"head",class:0==e.mode?"active":""}),e._v(" "),e.mode?s("div",{staticClass:"contentWrap",staticStyle:{"margin-bottom":"40px","padding-bottom":"10px"}},[s("v-menuSlider",{ref:"menuS",staticClass:"contentmenuhead"}),e._v(" "),s("el-container",[s("router-view",{ref:"child"})],1)],1):s("el-container",[s("router-view",{ref:"child"})],1),e._v(" "),s("div",{staticClass:"copyright"},[s("i",{staticClass:"version"},[e._v("软件版本："+e._s(e.softwareVersion))]),e._v(" "),"V1700"==e.showType?s("div",{staticClass:"version defultStyle"},[s("span",[e._v("硬盘：")]),e._v(" "),s("span",{staticClass:"progress-bg"},[s("span",{staticClass:"progress-fill",style:{width:e.usagePercent+"%"}}),e._v(" "),s("span",{staticClass:"capacity-text"},[e._v(e._s(e.usedG)+"G / "+e._s(e.totalG)+"G")])])]):e._e(),e._v(" "),"V1700"==e.showType?s("div",{staticClass:"version recordStatus"},[e._v("\n      录制状态："),s("span",{staticClass:"recordStatus"},[e._v(e._s(e.statusText))])]):e._e(),e._v(" "),s("div",{staticClass:"copyrightWrap",staticStyle:{display:"none"}},[s("span",{class:1===parseInt(e.platStage)?"greenDot":"redDot",attrs:{title:1==parseInt(e.platStage)?"平台状态：开启":"平台状态：关闭"}}),e._v(" "),s("span",{class:1===parseInt(e.controlStage)?"greenDot":"redDot",attrs:{title:1==parseInt(e.controlStage)?"物联管控状态：开启":"物联管控状态：关闭"}}),e._v(" "),s("span",{class:1===parseInt(e.authorizeStage)?"greenDot":"redDot",attrs:{title:1==parseInt(e.authorizeStage)?"授权状态：开启":"授权状态：关闭"}})])])],1)},staticRenderFns:[]};var p=s("VU/8")(u,h,!1,function(e){s("XaZa")},"data-v-3914b056",null);t.default=p.exports},XaZa:function(e,t){},bglC:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0RBOEVDMURGRjdBMTFFOUE3NEZFNDdCQzNCMkQzNkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0RBOEVDMUVGRjdBMTFFOUE3NEZFNDdCQzNCMkQzNkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozREE4RUMxQkZGN0ExMUU5QTc0RkU0N0JDM0IyRDM2RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozREE4RUMxQ0ZGN0ExMUU5QTc0RkU0N0JDM0IyRDM2RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn1ArBYAAAZUSURBVHjatFhbbFRF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"},"xlN+":function(e,t){},z4De:function(e,t){}});