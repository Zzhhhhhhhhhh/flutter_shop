webpackJsonp([9],{YxO2:function(t,e,i){t.exports=i.p+"static/img/wait.746639b.gif"},hzu8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"Waitting",data:function(){return{timer:null,timer2:null,type:1,title:""}},created:function(){this.type=this.$route.query.type,1==this.type?this.title="系统正在重启中……":this.title="系统正在升级中……"},mounted:function(){2==this.type?this.upgradeFn():this.restart()},destroyed:function(){clearInterval(this.timer),clearInterval(this.timer2)},methods:{restart:function(){var t=this,e={Hber:(new Date).getTime()};this.$https.get("/Camera_Restart.do",e).then(function(e){t.timer=setInterval(function(){t.$https.get("/Camera_GetInit.do").then(function(e){e&&(clearInterval(t.timer),t.$router.push({path:"/"}))})},3e3)})},upgradeFn:function(){var t=this,e={UpdateType:"upload.bin",hber:(new Date).getTime()};this.$http.get("/Camera_UpdateDevice.do",e).then(function(e){0==e.data?t.timer2=setInterval(function(){t.getProgress()},1e3):t.$message.error("升级失败!")})},getProgress:function(){var t=this;this.$https.get("/Camera_GetUpdateProgress.do").then(function(e){if(e<0){var i="";-1==e&&(i="解压失败!"),t.$message.error(i),clearInterval(t.timer2)}else t.title=e+"%，系统正在升级中……",100==e&&(t.$message.success("升级成功,即将重启设备！"),clearInterval(t.timer2),t.restart(),t.title="系统正在重启中……")})}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"waitting"}},[e("div",{staticClass:"box"},[e("p",[this._v(this._s(this.title))]),this._v(" "),e("img",{attrs:{src:i("YxO2"),alt:""}}),this._v(" "),e("p",[this._v("请不要关闭电源")])])])},staticRenderFns:[]};var n=i("VU/8")(r,s,!1,function(t){i("uhdb")},"data-v-e3203062",null);e.default=n.exports},uhdb:function(t,e){}});